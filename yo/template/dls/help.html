<h1 translate="HELP.TITLE"></h1>

<div>
    <div>
        <h1 class="page-header">Logging in</h1>
        <p>When you first access TopCAT, you will be presented with a login page.</p>

        <img src="images/guide/login.png" alt="Login" />

        <p>You can login by entering your username and password provided by the <a href="http://www.diamond.ac.uk/Users/" target="_blank">Diamond User Office</a>. Alternatively, to view only public data, select <strong>Anonymous</strong> from the <strong>Authentication Type</strong> drop down menu anc click login.</p>

        <p>Once successfully logged in, you will see a page with four tabs.</p>
        <img src="images/guide/tabs.png" alt="Login" />
    </div>

    <div>
        <h1 class="page-header">My Data</h1>
        <p>The <a ui-sref="home.my-data">My Data</a> tab gives you quick access to all your investigations and is presented in a grid.</p>

        <h4>Sorting and Filtering</h4>
        <p>Investigatons can be sorted by clicking on the column title. If a column has an input box, you can use it to filter results. Wildcard filtering is possible using the character <strong>*</strong> to match multiple characters or <strong>?</strong> to match a single character. For Date filters, dates must be entered in the format YYYY-MM-DD. Both <strong>From..</strong> and <strong>To...</strong> dates must be entered.</p>

        <p><img src="images/guide/my-data-grid.png" alt="My Data Grid" /></p>


        <h4>Meta Data</h4>

        <p>If you click on a row (make sure it is not a hyperlink), tabs will appear on the bottom half of the page. Each tab gives you more information about the investigation.</p>

        <p><img src="images/guide/investigation-meta-data.png" alt="Investigation Meta Data" /></p>

        <h4>Adding and removing items from the cart</h4>

        <p>On the very first column of each row on the grid, you will see tick boxes.</p>

        <p><img src="images/guide/tickbox.png" alt="Tick Box" /></p>

        <p>Clicking this box will add or remove the selected investigation to your <a ui-sref="home.cart">Cart</a>. Multiple items can be added using the "Shift" key.</p>

        <p>You can use the Cart items counter on the top right corner to check if an item was added or removed. </p>

        <p><img src="images/guide/cart_number_of_items.png" alt="Cart Items Counter" /></p>

        <p>Clicking on a link (Title or Visit Id column) will take you to the datasets of that investigation and allow you to browse and add items to the cart.</p>
    </div>

    <div>
        <h1 class="page-header">Browse</h1>
        <p>The <a ui-sref="home.broswe">Browse</a> tab allows you to browse your data and any public data.</p> The grid works the same as in the My Data tab. You can sort and filter as well as drill drown the data hierarchy using the hyperlinks on each row. You can use the breadcrumb to go up the hierarchy. The breadcrumb is a useful reference to tell you where you are in the data hierarchy.</p>

        <p><img src="images/guide/breadcrumb.png" alt="Breadcrumb" /></p>

        <p>If the first column of the gird is a tick box, you can click the box to add the item to your cart. Please note if you select an investigation, all dataset and datafile belonging to that investigation will be selected. It is not possible for example to unselect one datafile if the parent investigation is already selected.</p>

        <p>Similar to My Data, clicking on a row (not hyperlink) will display it's meta data information in the panel at the bottom of the page.</p>
    </div>


    <div>
        <h1 class="page-header">Cart</h1>

        <p>The Cart tab is a grid that list all the items that you have added to the cart.</p>

        <p><img src="images/guide/cart.png" alt="Cart" /></p>

        <p>Here you can remove already added items or request download of the items in the cart by Clicking the <strong>Download Cart</strong> button. When the button is clicked, you will be presented with modal window with several options.</p>

        <p><img src="images/guide/download_modal.png" alt="Download Modal Window" /></p>

        <p>The <strong>Download Name</strong> is a name that identify your particular download. It is used as the filename when your download becomes ready.</p>

        <p>The <strong>Transport</strong> selection option determines the transport mechanism to download your files. Three options are possible:</p>

        <div>
            <table class="table table-bordered tranport-table">
                <thead>
                    <tr>
                        <th>Transport Name</th>
                        <th>Description</th>
                        <th>Additional Signup/Software</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Https</td>
                        <td>Your files are prepared so you can initiate a download via https using your browser or other tools such as <a href="http://www.gnu.org/software/wget/" target="_blank">wget</a>, <a href="http://curl.haxx.se/" target="_blank">curl</a> etc. Your files will be downloaded as a compressed zip file.</td>
                        <td>None</td>
                    </tr>
                    <tr>
                        <td>Globus</td>
                        <td>Your files are prepared so you can initial a <a href="https://www.globus.org" target="_blank">Globus Online</a> download (See <a ui-sref="globus-help">Globus help</a> for more information).</td>
                        <td><p><a href="https://www.globus.org/SignUp" target="_blank">Globus Online Signup</a></p><p><a href="https://www.globus.org/globus-connect-personal" target="_blank">Globus Connect Personal client</a> is required</p></td>
                    </tr>
                    <tr>
                        <td>Smartclient</td>
                        <td>Your files are automatically downloaded individually to your machine via the Smart client tool (<a href="https://github.com/icatproject/ids.smartclient/wiki" target="_blank">more details</a>). The Smartclient option will only appear if the Smart Client is already on you machine.</td>
                        <td><a href="https://github.com/icatproject/ids.smartclient" target="_blank">Smart Client</a> is required</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <p>You can optionally enter your email. When your download is available, an email will be sent notifying you that your download is available.</p>

        <p>Clicking the <strong>Ok</strong> button on the modal will submit your download request to be processed. You should see a <strong>Cart successfully submitted</strong> notification popup on the right corner. The request will be added to the Download Order list on the <a ui-sref="home.download">Download</a> tab.</p>

        <p>If smartclient transport was selected for the request, you will see the <strong>Datafiles to retrieve</strong> counter increase in value.</p>

        <p><img src="images/guide/smartclient.png" alt="Smart Client Datafiles to retrieve counter" /></p>
    </div>

    <div>
        <h1 class="page-header">Download</h1>

        <p>The <a ui-sref="home.download">Download</a> tab is a grid that list all your download requests.</p>

        <p><img src="images/guide/download.png" alt="Download Order" /></p>

        <p>The <strong>Status</strong> column gives you the current status of your download. Possible values are <strong>RESTORING</strong> and <strong>COMPLETE</strong>. The <strong>Download</strong> button is disabled when the status is restoring. Once its status becomes complete, you can click the download button to download the file via the browser if <strong>Https</strong> transport type was used for that request. Alternatively, use can right click the button and copy the link address and use tools such as <a href="http://www.gnu.org/software/wget/" target="_blank">wget</a> or <a href="http://curl.haxx.se/" target="_blank">curl</a> to download the file.</p>

        <p class="alert alert-info">Please note that download resuming and is not supported. Multi-part download managers are also not supported.</p>

        <p>For downloads using Smartclient as the transport type, your files are downloaded you your machine as soon as they are restored from tape archives. The complete status for smartClient downloads means all files were downloaded to your machine. Since smartclient download files individually rather than a zip archive, you can access already downloaded files in your Smart Client home directory even though the entire download has not yet completed.</p>

        <p>For downloads using Globus as the transport type, when the status is complete, you can login to <a href="https://www.globus.org/SignIn" target="_blank">Globus Online</a> and initiate file transfer to your endpoint.</p>

        <p class="alert alert-info">Download statuses are not automatically updated on the Download tab. You must click the <strong>Refresh</strong> button or refresh the browser periodically to get the latest status. It is recommended you enter your email address when submitting a download so you get notified when your download is available.</p>
    </div>

</div>


